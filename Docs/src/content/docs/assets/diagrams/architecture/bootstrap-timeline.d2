direction: right

classes: { step: { style.fill: "#0f172a"; style.stroke: "#22d3ee"; style.font-color: white } }

Flow: {
  class: step
  Task: "task deploy"
  K3d: "Create k3d cluster"
  NS: "Bootstrap namespaces"
  Cilium: "Install Cilium"
  CRDs: "Prometheus CRDs"
  Cert: "cert-manager + issuers"
  Vault: "Vault (init/unseal)"
  ESO: "External Secrets Operator"
  Argo: "ArgoCD + AppProjects"
  Gateway: "Gateway API + wildcard cert"
  Kyverno: "Kyverno + Policy Reporter"
  Stacks: "Sync stacks (obs/sec/cicd/backstage)"
}

Flow.Task -> Flow.K3d -> Flow.NS -> Flow.Cilium -> Flow.CRDs -> Flow.Cert -> Flow.Vault -> Flow.ESO -> Flow.Argo -> Flow.Gateway -> Flow.Kyverno -> Flow.Stacks