direction: right

classes: { prio: { style.fill: "#0f172a"; style.stroke: "#38bdf8"; style.font-color: white }
           pool: { style.fill: "#0f766e"; style.stroke: "#34d399"; style.font-color: white } }

Priorities: {
  class: prio
  Infra: "platform-infrastructure\n(Vault, ArgoCD, cert-manager)"
  Events: "platform-events\n(Argo Events)"
  Observ: "platform-observability\n(Prometheus, Loki)"
  Policy: "platform-policy\n(Kyverno)"
  CICD: "platform-cicd / cicd-execution\n(Workflows controller + pods)"
  Dash: "platform-dashboards\n(Grafana)"
  Users: "user-workloads\n(default)"
}

Pools: {
  class: pool
  Control: "Control plane node"
  Infra: "Infra nodes"
  Work: "Workload nodes"
}

Priorities.Infra -> Pools.Infra
Priorities.Events -> Pools.Infra
Priorities.Observ -> Pools.Infra
Priorities.Policy -> Pools.Infra
Priorities.Infra -> Pools.Infra
Priorities.Events -> Pools.Infra
Priorities.Observ -> Pools.Infra
Priorities.Policy -> Pools.Infra
Priorities.CICD -> Pools.Work
Priorities.Dash -> Pools.Work
Priorities.Users -> Pools.Work
