---
title: Verify Installation
sidebar:
  label: Verify Installation
  order: 4
---

import { LinkButton } from '../../../components/content/index.ts';

Now that the deploy command has run, confirm the demo platform is converging and note where it is still settling. This is a local demo, not production hardening.

## What to expect in the first 5–10 minutes

ArgoCD keeps syncing after `task deploy` exits, pods move from Pending to Ready as
images download, and Health/Sync will settle gradually rather than instantly.

{/*Sequence diagram removed for a simpler, first-contact explanation.*/}

## Quick Checks

```bash
kubectl get nodes
kubectl get pods -A | sort
kubectl -n argocd get applications

# Optional: watch live
kubectl get pods -A -w &
kubectl -n argocd get applications -w &

# Gateway becomes ready when TLS and routes bind
kubectl -n kube-system wait --for=condition=Programmed gateway/idp-gateway --timeout=300s
```

:::tip
`k9s` ships in the Devbox/Dev Container. Run `k9s -A` and toggle between `:pods`,
`:deploy`, `:events` to watch things settle.
:::

**Expected signals**

- Nodes: 3 Ready nodes in the `k3d-idp-demo` cluster.
- ArgoCD Applications: appear within a minute; Healthy/Synced may take several minutes while images pull.
- Gateway wait: command above should complete before accessing URLs.
- Secrets: `kubectl get externalsecrets,secretstores -A` should list resources; ArgoCD secret should exist in `argocd` namespace.

### First look at the platform

![Platform Entry Points](../assets/diagrams/getting-started/verify-first-look.svg)

### What you'll see in the ArgoCD UI

Application cards show Sync and Health; expect some OutOfSync while things converge.
Projects in the left sidebar (cicd, observability, backstage, and friends) mirror the
fuses you enabled in `config.toml`. Opening a card reveals the resource graph so you can
walk through Deployments, Services, and ConfigMaps.

![ArgoCD — Applications list](../assets/images/verify/argocd_all_applications.png)

### Example: inside an Application

Opening an Application (e.g., `observability-kube-prometheus-stack`) shows a resource
graph plus metadata:

- Git source (`K8s/observability/kube-prometheus-stack`) and revision (`main`).
- Destination (`https://kubernetes.default.svc`, namespace `observability`).
- *Refresh* and *Sync* buttons to trigger reconciliation on demand.

![ArgoCD — Application detail](../assets/images/verify/argocd_view_fluentbit-app.png)

### CLI/TUI alternative: k9s

Prefer a terminal? Use the bundled `k9s` TUI. Quick start:

```bash
k9s -A
```

From there jump with `:ns`, `:pods`, `:deploy` and watch events live while ArgoCD syncs.

![k9s — exploring resources](../assets/images/verify/k9s_xray.png)

## Access Endpoints

`task deploy` prints the service URLs using your detected LAN IP. Example output:

![Gateway URLs printed by task deploy](../assets/images/verify/gateway-urls.png)

Patterns replace `<ip-dashed>` with your LAN IP: ArgoCD at
`https://argocd.<ip-dashed>.nip.io`, Grafana at `https://grafana.<ip-dashed>.nip.io`,
Vault at `https://vault.<ip-dashed>.nip.io`, Argo Workflows at
`https://workflows.<ip-dashed>.nip.io`, and SonarQube at
`https://sonarqube.<ip-dashed>.nip.io`. They are reachable from other devices on your LAN
as long as your OS firewall allows the configured NodePorts.

:::caution
If you can't reach the endpoints from another device, open NodePorts `30080`/`30443` (or
the values in `config.toml`) in your OS firewall.
:::

## Login Notes

- ArgoCD admin username: `admin`
- ArgoCD admin password: stored as bcrypt in the Secret; use the value in `config.toml`
  (`passwords.argocd_admin`, default `argo`).
- For CLI from your LAN, use `--plaintext` because ArgoCD runs in `insecure` mode (HTTP
  behind the Gateway):

```bash
argocd login argocd.<ip-dashed>.nip.io --username admin \
  --password <value-from-config.toml> --plaintext
```

## Certificate Warnings

TLS uses a local, self‑signed root CA issued for `*.${DNS_SUFFIX}` where `DNS_SUFFIX`
comes from your LAN IP (for example `192-168-1-20.nip.io`). Browsers will warn on first
visit. You can proceed, or import the CA:

![Browser warning — self-signed TLS prompt](../assets/images/verify/browser-warning.png)

```bash
# Export the root CA from cert-manager (cert-manager/idp-demo-ca-secret)
kubectl -n cert-manager get secret idp-demo-ca-secret \
  -o jsonpath='{.data.tls\.crt}' | base64 -d > idp-demo-ca.crt
```

- macOS: Keychain Access → System → Certificates → import `idp-demo-ca.crt` → "Always
  Trust".
- Linux (Debian/Ubuntu): `sudo cp idp-demo-ca.crt /usr/local/share/ca-certificates/ && sudo update-ca-certificates`
- Windows: `certmgr.msc`, import into "Trusted Root Certification Authorities".

:::tip
Certificates are issued automatically by cert-manager using a wildcard for
`*.${DNS_SUFFIX}`; the CA secret lives at `cert-manager/idp-demo-ca-secret`.
:::

## Quick smoke checks (eventual consistency friendly)

| Goal | Command | Success signal |
| --- | --- | --- |
| ArgoCD apps appear and converge | `kubectl -n argocd get applications` | Apps listed; `Sync` moves toward `Synced` over a few minutes |
| Grafana up with datasources | Open `https://grafana.<ip>.nip.io` | UI loads; Prometheus/Loki datasources present |
| Trivy Operator running | `kubectl -n security get pods | rg trivy` | `trivy-operator` and `trivy-server` pods Ready |
| External Secrets working | `kubectl get externalsecrets,secretstores -A` | Objects present; ArgoCD secret exists (`kubectl -n argocd get secret argocd-secret`) |
| Gateway certs bound | `kubectl -n kube-system get gateway idp-gateway -o yaml | rg Programmed` | Condition `Programmed` True; endpoints reachable over TLS |

### If something stalls

- Pods in `ImagePullBackOff`: check network access and retry `task deploy` after clearing space.
- Gateway not ready: ensure host ports in `config.toml` are free; re-run the wait command above.
- Applications stuck OutOfSync: use ArgoCD UI or `argocd app sync <name>` once images are present.

<div style="display: flex; gap: 0.75rem; justify-content: center; margin-top: 2rem;">
  <LinkButton href="/getting-started/quickstart/" variant="secondary" icon="arrow-left">
    Back: Quickstart
  </LinkButton>
  <LinkButton href="/operate/add-component/" variant="primary" icon="arrow-right">
    Next: Operate — Add Component
  </LinkButton>
</div>
