---
title: Deployment Guide
sidebar:
  label: Deployment Guide
  order: 4
---

import { LinkButton } from '../../../components/content/index.ts';

This is your guided tour of what "task deploy" does. It's automated by design and converges to
a working platform in minutes.

## What Happens During Deploy

- Create cluster and namespaces
- Install core infrastructure (Cilium, CRDs, cert-manager, Vault, ESO)
- Install GitOps (ArgoCD) and expose endpoints via Gateway + TLS
- Apply policies and let ApplicationSets sync the stacks â€“ ApplicationSets generate the ArgoCD
  Applications for each stack based on folders under `K8s/` using sync waves to control
  deployment order (see [GitOps Model](../concepts/gitops-model.md#sync-waves--ordering-without-scripts)
  for wave definitions). Stack deployment is controlled by [fuses](../architecture/overview.md#feature-toggles-fuses)
  defined in `config.toml`.

### Platform Components

![Deployment Flow](../assets/diagrams/getting-started/deployment-flow.svg)

> **Source:** [deployment-flow.d2](../assets/diagrams/getting-started/deployment-flow.d2)

## Configure via config.toml

Prefer editing `config.toml` in the repo root; tasks read all settings from there. Example:

```toml
[network]
lan_ip = "192.168.1.20"   # override auto-detected IP
# HTTP/HTTPS NodePorts used by the Gateway (k3d config and Service patch consume these)
nodeport_http = 30080
nodeport_https = 30443

[git]
repo_url = "https://github.com/rou-cru/idp-blueprint"
target_revision = "main"

[versions]
cilium = "1.18.2"
cert_manager = "v1.19.0"
vault = "0.31.0"
argocd = "8.6.0"

[passwords]
argocd_admin = "argo"
grafana_admin = "graf"
```

<div style="display: flex; gap: 0.75rem; justify-content: center; margin-top: 2rem;">
  <LinkButton href="/getting-started/quickstart/" variant="secondary" icon="arrow-left">
    Back: Quickstart
  </LinkButton>
  <LinkButton href="/getting-started/verify/" variant="primary" icon="arrow-right">
    Next: Verify Installation
  </LinkButton>
</div>
