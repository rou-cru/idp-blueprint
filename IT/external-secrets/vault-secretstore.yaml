# Defines the ClusterSecretStore, telling External Secrets Operator how to connect to Vault.
apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: vault-secretstore
  labels:
    app.kubernetes.io/name: vault-secretstore
    app.kubernetes.io/instance: vault-secretstore-demo
    app.kubernetes.io/component: secret-synchronizer
    app.kubernetes.io/part-of: idp
    owner: platform-engineer
    business-unit: engineering
    environment: demo
  annotations:
    contact: 'None'
    documentation: 'None'
    description:
      'Defines the ClusterSecretStore, telling External Secrets Operator how to connect
      to Vault.'
spec:
  provider:
    vault:
      server: 'http://vault.vault-system.svc.cluster.local:8200'
      path: 'secret'
      version: 'v2'
      auth:
        kubernetes:
          mountPath: 'kubernetes'
          role: 'external-secrets-role'
