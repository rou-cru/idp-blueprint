apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: idp-wildcard-cert
  namespace: kube-system
  labels:
    app.kubernetes.io/name: idp-wildcard-cert
    app.kubernetes.io/instance: idp-wildcard-cert-demo
    app.kubernetes.io/component: certificate
  annotations:
    description: 'Wildcard certificate for LAN exposure'
spec:
  secretName: idp-wildcard-cert
  duration: 8760h
  renewBefore: 720h
  privateKey:
    rotationPolicy: Always
  commonName: "*.${DNS_SUFFIX}"
  dnsNames:
    - "*.${DNS_SUFFIX}"
    - "${DNS_SUFFIX}"
  issuerRef:
    name: ca-issuer
    kind: ClusterIssuer
