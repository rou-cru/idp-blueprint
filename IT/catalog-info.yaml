apiVersion: backstage.io/v1alpha1
kind: Domain
metadata:
  name: idp-platform
  description: The Internal Developer Platform containing all core services and infrastructure.
spec:
  owner: platform-team

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp
  description: Internal Developer Platform - Complete integrated platform providing GitOps, Observability, Security, and Developer Portal capabilities.
  tags: [idp, platform, infrastructure]
spec:
  owner: platform-team
  domain: idp-platform

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-core
  description: Core services for the IDP (Portal, Auth).
  tags: [core, backstage, dex]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-orchestration
  description: GitOps and Workflow orchestration services.
  tags: [argocd, gitops, workflows]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-security
  description: Security, Secrets, and Policy engines.
  tags: [vault, kyverno, security]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-observability
  description: Monitoring and Logging stack.
  tags: [prometheus, grafana, observability]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-networking
  description: Ingress, Service Mesh, and DNS.
  tags: [cilium, gateway, networking]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: idp-quality
  description: Code Quality and Security Analysis.
  tags: [sonarqube, quality, analysis]
spec:
  owner: platform-team
  domain: idp-platform
  partOf: idp
