## @section Vault Server
## @description Vault server configuration.
server:
  standalone:
    # -- Enables standalone server configuration.
    enabled: true
    # -- HCL configuration for the Raft storage backend.
    config: |
      storage "raft" {
        path    = "/vault/data"
        node_id = "vault-0"
      }
      listener "tcp" {
        address         = "0.0.0.0:8200"
        tls_disable     = "true"
        telemetry {
          unauthenticated_metrics_access = true
        }
      }
      telemetry {
        prometheus_retention_time = "30s"
        disable_hostname          = true
      }
      # -- Enables a file audit device.
      audit "file" {
        path = "/vault/logs/audit.log"
      }

  # -- Configures persistence for Vault data using a PVC.
  dataStorage:
    enabled: true
    size: 1Gi

  # -- Resource configuration for the Vault pod.
  resources:
    requests:
      memory: 256Mi
      cpu: 250m
    limits:
      memory: 512Mi
      cpu: 500m

  # -- Default livenessProbe for the Vault server. Disabled by default.
  livenessProbe:
    enabled: false
    failureThreshold: 2
    initialDelaySeconds: 5
    periodSeconds: 2
    successThreshold: 1
    timeoutSeconds: 5
    execCommand: []

  # -- Default readinessProbe for the Vault server. Enabled by default.
  readinessProbe:
    enabled: true
    failureThreshold: 2
    initialDelaySeconds: 5
    # -- Path for the readiness probe. Defaults to /v1/sys/health?standbyok=true&sealedcode=204&uninitcode=204
    path: "/v1/sys/health?standbyok=true&sealedcode=204&uninitcode=204"


  # -- Enables the metrics endpoint for Prometheus.
  serviceMonitor:
    enabled: true
    interval: 60s
    scrapeTimeout: 40s

## @section Vault UI
## @description Vault UI configuration.
ui:
  # -- Enables the Vault UI.
  enabled: true
  # -- Service type for the UI.
  service:
    type: 'ClusterIP'
